%cd d:\gaddy\mit\matlab\gp_modules
%addpath d:\gaddy\mit\matlab\gp_modules

clear all
close all
cd ~/matlab/gp_modules
addpath ~/matlab/gp_modules

% median 1

gp_pnn_xvalidation('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.med.1.xv','predict_PDT_miRNA.med.1.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'PDT_miRNA.gct','predict_PDT.test.cls','predict_PDT_miRNA.med.1.full.odf','predict_PDT_miRNA.med.1.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.med.1.xvres.odf');


% mean 1
gp_pnn_xvalidation('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.mean.1.xv','predict_PDT_miRNA.mean.1.xvres.odf',...
       '2','0.75','2:2:30','1','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'PDT_miRNA.gct','predict_PDT.test.cls','predict_PDT_miRNA.mean.1.full.odf','predict_PDT_miRNA.mean.1.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.mean.1.xvres.odf');

% median 0.5

gp_pnn_xvalidation('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.med.0.5.xv','predict_PDT_miRNA.med.0.5.xvres.odf',...
       '2','0.75','2:2:30','2','0.5:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'PDT_miRNA.gct','predict_PDT.test.cls','predict_PDT_miRNA.med.0.5.full.odf','predict_PDT_miRNA.med.0.5.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.med.0.5.xvres.odf');


% mean 0.5
gp_pnn_xvalidation('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.mean.0.5.xv','predict_PDT_miRNA.mean.0.5.xvres.odf',...
       '2','0.75','2:2:30','1','0.5:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'PDT_miRNA.gct','predict_PDT.test.cls','predict_PDT_miRNA.mean.0.5.full.odf','predict_PDT_miRNA.mean.0.5.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.mean.0.5.xvres.odf');




gp_pnn_xvalidation('predict_PDT_miRNA.train.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.xv','predict_PDT_miRNA.10.1.b.xvres.odf',...
       '2','0.75','10','2','1','1','0.0909090909','1');


% load last_point_x
% 
% x=load('~/projects/miRNA/new/GCMc/fig14.1.fixed_pnn.mean.mat');
% for i=1:11
%   disp(i);
%   reshape(x.res(i).cls.fres(2,:)',15,7)
%   pause
% end

% filt7.25
gp_pnn_xvalidation('predict_PDT_miRNA.train.filt7.25.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.filt7.25.xv','predict_PDT_miRNA.filt7.25.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.filt7.25.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.test.filt7.25.gct','predict_PDT.test.cls','predict_PDT_miRNA.filt7.25.full.odf','predict_PDT_miRNA.filt7.25.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.filt7.25.xvres.odf');

% filt8

gp_pnn_xvalidation('predict_PDT_miRNA.train.filt8.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.filt8.xv','predict_PDT_miRNA.filt8.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.filt8.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.test.filt8.gct','predict_PDT.test.cls','predict_PDT_miRNA.filt8.full.odf','predict_PDT_miRNA.filt8.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.filt8.xvres.odf');

% filt8.25

gp_pnn_xvalidation('predict_PDT_miRNA.train.filt8.25.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.filt8.25.xv','predict_PDT_miRNA.filt8.25.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.filt8.25.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.test.filt8.25.gct','predict_PDT.test.cls','predict_PDT_miRNA.filt8.25.full.odf','predict_PDT_miRNA.filt8.25.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.filt8.25.xvres.odf');

% filt8.5

gp_pnn_xvalidation('predict_PDT_miRNA.train.filt8.5.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.filt8.5.xv','predict_PDT_miRNA.filt8.5.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.filt8.5.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.test.filt8.5.gct','predict_PDT.test.cls','predict_PDT_miRNA.filt8.5.full.odf','predict_PDT_miRNA.filt8.5.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.filt8.5.xvres.odf');

% filt9
gp_pnn_xvalidation('predict_PDT_miRNA.train.filt9.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.filt9.xv','predict_PDT_miRNA.filt9.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_miRNA.train.filt9.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.test.filt9.gct','predict_PDT.test.cls','predict_PDT_miRNA.filt9.full.odf','predict_PDT_miRNA.filt9.pred.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.filt9.xvres.odf');



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%   m R N A 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%




   
%%%%%%%%%%%%%
% median 1
gp_pnn_xvalidation('predict_PDT_mRNA.train.gct','predict_PDT.train.cls',...
       'predict_PDT_mRNA.med.1.xv','predict_PDT_mRNA.med.1.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn_xvalidation('predict_PDT_mRNA.train.gct','predict_PDT.train.cls',...
       'predict_PDT_mRNA.med.1.xv','predict_PDT_mRNA.med.1.xvres.odf',...
       '2','0.75','2','2','1','1','0.0909090909','1');

gp_pnn('predict_PDT_mRNA.train.gct','predict_PDT.train.cls',...
    'predict_PDT_mRNA.test.gct','predict_PDT.test.cls','predict_PDT_mRNA.med.1.full.odf','predict_PDT_mRNA.med.1.pred.odf',...
    '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_mRNA.med.1.xvres.odf');

% mean 1
gp_pnn_xvalidation('predict_PDT_mRNA.train.gct','predict_PDT.train.cls',...
       'predict_PDT_mRNA.mean.1.xv','predict_PDT_mRNA.mean.1.xvres.odf',...
       '2','0.75','2:2:30','1','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_mRNA.train.gct','predict_PDT.train.cls',...
    'predict_PDT_mRNA.test.gct','predict_PDT.test.cls','predict_PDT_mRNA.mean.1.full.odf','predict_PDT_mRNA.mean.1.pred.odf',...
    '10','2','0.75','1','1','1','0.0909090909','cosine','1','predict_PDT_mRNA.mean.1.xvres.odf');



gp_pnn_xvalidation('predict_PDT_mRNA.train.no_filt.gct','predict_PDT.train.cls',...
       'predict_PDT_mRNA.no_filt.xv','predict_PDT_mRNA.no_filt.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_mRNA.train.no_filt.gct','predict_PDT.train.cls',...
    'predict_PDT_mRNA.test.no_filt.gct','predict_PDT.test.cls','predict_PDT_mRNA.no_filt.full.odf','predict_PDT_mRNA.no_filt.pred.odf',...
    '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_mRNA.no_filt.xvres.odf');


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

gp_pnn_xvalidation('predict_PDT_mRNA.train.filt7.25.gct','predict_PDT.train.cls',...
       'predict_PDT_mRNA.7.25.xv','predict_PDT_mRNA.filt7.25.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_mRNA.train.filt7.25.gct','predict_PDT.train.cls',...
    'predict_PDT_mRNA.test.filt7.25.gct','predict_PDT.test.cls','predict_PDT_mRNA.filt7.25.full.odf','predict_PDT_mRNA.filt7.25.pred.odf',...
    '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_mRNA.filt7.25.xvres.odf');

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

gp_pnn_xvalidation('predict_PDT_mRNA.train.filt9.gct','predict_PDT.train.cls',...
       'predict_PDT_mRNA.9.xv','predict_PDT_mRNA.filt9.xvres.odf',...
       '2','0.75','2:2:30','2','1:0.5:4','1','0.0909090909','1');

gp_pnn('predict_PDT_mRNA.train.filt9.gct','predict_PDT.train.cls',...
    'predict_PDT_mRNA.test.filt9.gct','predict_PDT.test.cls','predict_PDT_mRNA.filt9.full.odf','predict_PDT_mRNA.filt9.pred.odf',...
    '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_mRNA.filt9.xvres.odf');



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
gp_pnn_xvalidation predict_PDT_miRNA.train.filt7.25.gct ...
    predict_PDT.train.cls predict_PDT_miRNA.filt7.25.pc.xv ...
    predict_PDT_miRNA.filt7.25.xvres.pc.odf ...
    2 0.75 2:2:30 2 1:0.5:4 1 0.0909090909 1

gp_pnn('predict_PDT_miRNA.train.filt7.25.gct','predict_PDT.train.cls',...
       'predict_PDT_miRNA.test.filt7.25.gct','predict_PDT.test.cls','predict_PDT_miRNA.filt7.25.full.pc.odf','predict_PDT_miRNA.filt7.25.pred.pc.odf',...
       '10','2','0.75','2','1','1','0.0909090909','cosine','1','predict_PDT_miRNA.filt7.25.xvres.pc.odf');
   
gp_pnn predict_PDT_miRNA.train.filt7.25.gct predict_PDT.train.cls ...
    predict_PDT_miRNA.test.filt7.25.gct predict_PDT.test.cls ...
    predict_PDT_miRNA.filt7.25.full.pc.odf predict_PDT_miRNA.filt7.25.pred.pc.odf 10 2 0.75 2 1 1 0.0909090909 cosine 1 predict_PDT_miRNA.filt7.25.xvres.pc.odf
    
gp_pnn predict_PDT_miRNA.train.filt7.25.gct predict_PDT.train.cls ...
    predict_PDT_miRNA.test.filt7.25.gct predict_PDT.test.cls  ...
    predict_PDT_miRNA.filt7.25.full.pc.odf predict_PDT_miRNA.filt7.25.pred.pc.odf 10 2 0.75 2 1 1 0.0909090909 cosine 1 miGCM_218.slice.preprocessed.xvopt.odf

gp_pnn predict_PDT_miRNA.train.filt7.25.gct predict_PDT.train.cls ...
    predict_PDT_miRNA.test.filt7.25.gct PDT_miRNA.slice.cls  ...
    predict_PDT_miRNA.filt7.25.full.pc.odf predict_PDT_miRNA.filt7.25.pred.pc.odf 10 2 0.75 2 1 1 0.0909090909 cosine 1 miGCM_218.slice.preprocessed.xvopt.odf

gp_pnn miGCM_218.slice.preprocessed.gct predict_PDT.train.cls ...
     PDT_miRNA.slice.cls  ...
    predict_PDT_miRNA.filt7.25.full.pc.odf predict_PDT_miRNA.filt7.25.pred.pc.odf 10 2 0.75 2 1 1 0.0909090909 cosine 1 miGCM_218.slice.preprocessed.xvopt.odf


gp_pnn_xvalidation miGCM_218.slice.preprocessed.gct ...
    Common_Affy.slice.cls miGCM_218.slice.preprocessed.test.xv ...
    miGCM_218.slice.preprocessed.xvres.odf ...
    2 0.75 2:2:30 2 1:0.5:4 1 0.0909090909 1



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% try ALL
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ALL.gct from our web site
% ALL.cls from the clustering pipeline

gp_pnn_xvalidation ALL.gct ...
    ALL.cls ALL.xv ...
    ALL.xvres.odf ...
    2 0.75 2:2:30 2 1:0.5:4 1 0.0909090909 1

gp_pnn_xvalidation ALL.gct ...
    ALL.cls ALL.xv ...
    ALL.xvres.0.125.odf ...
    2 0.75 2:2:30 2 1:0.5:4 1 0.125 1









